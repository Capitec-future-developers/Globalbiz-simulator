(function(){    const capitecApp = document.getElementById('capitecApp');    const safariApp = document.getElementById('safariApp');    const shutdownApp = document.getElementById('shutdownApp');    const overlay = document.getElementById('openOverlay');    const safariOverlay = document.getElementById('safariOverlay');    const safariBackBtn = document.getElementById('safariBackBtn');    const powerDownOverlay = document.getElementById('powerDownOverlay');    const shutdownBlackScreen = document.getElementById('shutdownBlackScreen');    const sliderHandle = document.getElementById('sliderHandle');    const sliderContainer = document.getElementById('sliderContainer');    const cancelShutdown = document.getElementById('cancelShutdown');    if (!capitecApp || !overlay || !safariApp || !safariOverlay) return;    function openCapitec(e){        e.preventDefault();        const rect = capitecApp.getBoundingClientRect();        const screen = document.querySelector('.screen').getBoundingClientRect();        const iconCx = rect.left + rect.width/2;        const iconCy = rect.top + rect.height/2;        const originX = ((iconCx - screen.left) / screen.width) * 100 + '%';        const originY = ((iconCy - screen.top) / screen.height) * 100 + '%';        overlay.style.setProperty('--ox', originX);        overlay.style.setProperty('--oy', originY);        overlay.style.setProperty('--tx', (iconCx - (screen.left + screen.width/2)) + 'px');        overlay.style.setProperty('--ty', (iconCy - (screen.top + screen.height/2)) + 'px');        overlay.classList.add('active');        setTimeout(()=>{ window.location.href = 'Phone.html'; }, 450);    }    function openSafari(e){        e.preventDefault();        safariOverlay.classList.add('active');        const targetUrl = 'https://www.capitecbank.co.za';        window.open(targetUrl, '_blank');        setTimeout(() => {            safariOverlay.classList.remove('active');        }, 1000);    }    function shutdownPhone(e) {        e.preventDefault();        powerDownOverlay.classList.add('active');    }    let isDragging = false;    let startX = 0;    let maxSlide = 0;    function startDrag(e) {        isDragging = true;        startX = (e.type === 'touchstart') ? e.touches[0].clientX : e.clientX;        maxSlide = sliderContainer.offsetWidth - sliderHandle.offsetWidth - 10;        sliderHandle.style.transition = 'none';    }    function doDrag(e) {        if (!isDragging) return;        const currentX = (e.type === 'touchmove') ? e.touches[0].clientX : e.clientX;        let deltaX = currentX - startX;        if (deltaX < 0) deltaX = 0;        if (deltaX > maxSlide) deltaX = maxSlide;        sliderHandle.style.left = (deltaX + 5) + 'px';        if (deltaX >= maxSlide) {            isDragging = false;            triggerFinalShutdown();        }    }    function endDrag() {        if (!isDragging) return;        isDragging = false;        sliderHandle.style.transition = 'left 0.3s ease';        sliderHandle.style.left = '5px';    }    function triggerFinalShutdown() {        powerDownOverlay.classList.remove('active');        shutdownBlackScreen.style.display = 'flex';        setTimeout(() => {            shutdownBlackScreen.style.background = 'black';            setTimeout(() => {                window.location.href = '../Computer/home%20page.html';            }, 1500);        }, 2000);    }    cancelShutdown.addEventListener('click', () => {        powerDownOverlay.classList.remove('active');    });    sliderHandle.addEventListener('mousedown', startDrag);    sliderHandle.addEventListener('touchstart', startDrag);    window.addEventListener('mousemove', doDrag);    window.addEventListener('touchmove', doDrag);    window.addEventListener('mouseup', endDrag);    window.addEventListener('touchend', endDrag);    function closeSafari(e) {        e.preventDefault();        safariOverlay.classList.remove('active');    }    capitecApp.addEventListener('click', openCapitec);    capitecApp.addEventListener('touchend', openCapitec);    safariApp.addEventListener('click', openSafari);    safariApp.addEventListener('touchend', openSafari);    shutdownApp.addEventListener('click', shutdownPhone);    shutdownApp.addEventListener('touchend', shutdownPhone);    safariBackBtn.addEventListener('click', closeSafari);})();// CORRECTED WALLPAPER SCRIPTconst wallpapers = [    '../images/IphoneBackground.jpg',    '../images/iphoneBackground.png'];let currentWallpaperIndex = 0;const wallpaperElement = document.querySelector('.wallpaper');// Function to preload imagesfunction preloadImages(urls) {    urls.forEach(url => {        const img = new Image();        img.src = url;        img.onload = () => console.log(`Preloaded: ${url}`);        img.onerror = () => console.error(`Failed to load: ${url}`);    });}function rotateWallpaper() {    if (!wallpaperElement) {        console.error('Wallpaper element not found!');        return;    }    currentWallpaperIndex = (currentWallpaperIndex + 1) % wallpapers.length;    const newWallpaper = wallpapers[currentWallpaperIndex];    console.log('Attempting to load wallpaper:', newWallpaper);    // Test if image exists before applying    const testImg = new Image();    testImg.onload = function() {        console.log('Wallpaper loaded successfully:', newWallpaper);        wallpaperElement.style.backgroundImage = `url('${newWallpaper}')`;    };    testImg.onerror = function() {        console.error('Wallpaper failed to load:', newWallpaper);        // Optionally try the other wallpaper        const fallbackWallpaper = wallpapers[(currentWallpaperIndex + 1) % wallpapers.length];        console.log('Trying fallback:', fallbackWallpaper);        wallpaperElement.style.backgroundImage = `url('${fallbackWallpaper}')`;    };    testImg.src = newWallpaper;}// Preload all wallpapers when page loadswindow.addEventListener('load', () => {    console.log('Page loaded, preloading wallpapers...');    preloadImages(wallpapers);    // Set initial wallpaper    if (wallpaperElement) {        const initialImg = new Image();        initialImg.onload = function() {            wallpaperElement.style.backgroundImage = `url('${wallpapers[0]}')`;        };        initialImg.onerror = function() {            console.error('Initial wallpaper failed to load, trying second option');            wallpaperElement.style.backgroundImage = `url('${wallpapers[1]}')`;        };        initialImg.src = wallpapers[0];    }});// Rotate every 5 minutes (300000 ms)setInterval(rotateWallpaper, 300000);